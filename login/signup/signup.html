<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Car Rental System - Signup</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{height:100vh;background:#151320;display:flex;justify-content:center;align-items:center;}
.container{width:90%;max-width:1200px;height:650px;display:flex;background:#1c1830;border-radius:18px;overflow:hidden;box-shadow:0 30px 70px rgba(0,0,0,0.6);}
.left-section{width:50%;background:url("login_car_bg.jpeg") center/cover no-repeat;position:relative;}
.overlay{position:absolute;inset:0;background:linear-gradient(120deg, rgba(0,0,0,0.35), rgba(0,0,0,0.75));}
.right-section{width:50%;padding:60px;color:white;}
.right-section h2{font-size:34px;}
.subtitle{color:#aaa;margin-bottom:30px;}
form input{width:100%;padding:14px;background:#2a2545;border:none;border-radius:10px;color:white;margin-bottom:18px;font-size:15px;}
form input::placeholder{color:#aaa;}
.terms{font-size:14px;margin-bottom:25px;}
.terms label{display:flex;align-items:center;gap:8px;cursor:pointer;}
.terms input{width:16px;height:16px;accent-color:#9b7cff;}
.signup-btn{width:100%;padding:14px;background:linear-gradient(135deg,#7f5cff,#9b7cff);border:none;border-radius:12px;color:white;font-size:16px;cursor:pointer;margin-bottom:20px;}
.login-link{text-align:center;font-size:14px;}
.login-link a{color:#9b7cff;text-decoration:none;}
.status{display:none;text-align:center;margin-top:10px;font-size:14px;background:#2a2545;padding:10px;border-radius:10px;color:#cfcfcf;}
</style>
</head>

<body>

<div class="container">
  <div class="left-section"><div class="overlay"></div></div>

  <div class="right-section">
    <h2>Create Account</h2>
    <p class="subtitle">Signup as User ✅</p>

    <form id="signupForm">
      <input type="text" id="first_name" placeholder="First Name" required>
      <input type="text" id="last_name" placeholder="Last Name" required>
      <input type="email" id="email" placeholder="Email" required>
      <input type="password" id="password" placeholder="Password" required>

      <div class="terms">
        <label>
          <input type="checkbox" required>
          <span>I agree to the Terms & Conditions</span>
        </label>
      </div>

      <button class="signup-btn" type="submit">Create Account</button>
      <div class="status" id="statusMsg"></div>

      <p class="login-link">
        Already have an account? <a href="../login.html">Login</a>
      </p>
    </form>
  </div>
</div>

<script>
document.getElementById("signupForm").addEventListener("submit", async (e)=>{
  e.preventDefault();

  const first_name = document.getElementById("first_name").value;
  const last_name = document.getElementById("last_name").value;
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;

  const statusMsg = document.getElementById("statusMsg");
  statusMsg.style.display = "none";

  try{
    const res = await fetch("http://127.0.0.1:3000/signup",{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body: JSON.stringify({first_name,last_name,email,password})
    });

    const data = await res.json();
    statusMsg.style.display = "block";
    statusMsg.innerText = data.message;

    if(data.success){
      setTimeout(()=> window.location.href="../login.html", 1200);
    }
  }catch(err){
    statusMsg.style.display = "block";
    statusMsg.innerText = "Server error ❌ Backend not running";
  }
});
</script>

</body>
</html>
